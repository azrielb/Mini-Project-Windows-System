                new XElement("Rooms",
                    from item in rooms
                    select new XElement("room",
                        new XElement("id", item.RoomID),
                        new XElement("Beds", item.Beds),
                        new XElement("SeaWatching", item.SeaWatching),
                        new XElement("Type", item.Type),
                        new XElement("Price", item.Price)
                    )
                ),
                new XElement("Agencies",
                    from item in agencies
                    select new XElement("agency",
                        new XElement("id", item.AgencyID),
                        new XElement("ContactPerson", item.ContactPerson),
                        new XElement("Name", item.Name),
                        new XElement("Type", item.Type)
                    )
                ),
                new XElement("Reservations",
                    from item in reservations
                    select new XElement("reservation",
                        new XElement("id", item.ReservationID),
                        new XElement("AgencyID", item.AgencyID),
                        new XElement("ArrivalDate", item.ArrivalDate),
                        new XElement("Days", item.Days),
                        new XElement("ReservationDate", item.ReservationDate),
                        (item is Single_Reservation
                            ? new XElement("roomID", (item as Single_Reservation).Room.RoomID)
                            : (item is Group_Reservation<IEnumerable<Room>>
                                ? new XElement("rooms",
                                    from room in (item as Group_Reservation<IEnumerable<Room>>).Rooms
                                    select new XElement("ID", room.RoomID)
                                )
                                : null
                            )
                        )
                    )
                )
